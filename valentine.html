<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Valentine.exe</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@600;800&family=Fredoka+One&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffd6ea; --bg2:#ffc4e1; --accent:#ff4da6; --muted:#f8d7e6; --shadow:#d88aa8;
    }
    html,body{height:100%;}
    body{
      margin:0; font-family:'Nunito',system-ui,Segoe UI,Roboto,Helvetica,Arial,sans-serif;
      background: linear-gradient(135deg,var(--bg1),var(--bg2));
      display:flex; align-items:center; justify-content:center; overflow:hidden;
      background-image: repeating-linear-gradient(135deg, rgba(255,255,255,0.03) 0 12px, transparent 12px 24px);
    }

    /* Mock window */
    .window{
      width:600px; max-width:90vw; background:#ffeef6; border:4px solid #ffb7d4; box-shadow: 0 10px 0 var(--shadow), 0 12px 18px rgba(0,0,0,0.06);
      border-radius:4px; overflow:visible; position:relative;
    }
    .titlebar{
      background:linear-gradient(90deg,#ff4da6,#ff2a85); height:36px; display:flex; align-items:center; padding:0 10px; color:white; font-weight:800; font-family:'Fredoka One', sans-serif;
      border-top-left-radius:2px; border-top-right-radius:2px;
    }
    .titlebar .title{margin-left:8px; font-size:15px}
    .titlebar .controls{margin-left:auto; display:flex; gap:8px}
    .ctrl{width:18px;height:18px;border-radius:2px;background:rgba(255,255,255,0.15); display:inline-flex;align-items:center;justify-content:center; font-weight:700; font-size:12px}

    .content{display:flex; gap:18px; align-items:center; padding:28px 32px;}
    .heart{
      font-size:68px; transform:translateY(6px); filter:drop-shadow(0 4px 0 #f2abc9);
    }

    .text h1{font-family:'Fredoka One',sans-serif; margin:0; color:#b13b5f; font-size:26px}
    .text p{margin:10px 0 0; color:#7b3750}
    .highlight{color:var(--accent); font-weight:800}

    .actions{display:flex; gap:18px; margin-left:auto; align-items:center}
    .btn{padding:10px 22px; border-radius:6px; border:2px solid rgba(0,0,0,0.08); background:#ffd3e8; cursor:pointer; font-weight:700}
    .btn.yes{background:#ffd6e6; border-color:#b24b6b; box-shadow: inset 0 -4px 0 rgba(0,0,0,0.03)}
    .btn.no{background:#f8cfe0}

    /* Smaller button container to keep movement inside */
    .btn-wrap{position:relative; width:220px; height:48px}

    /* modal shown when user clicks Yes */
    .modal{position:fixed; inset:0; display:flex;align-items:center;justify-content:center; background:rgba(0,0,0,0.15); opacity:0; pointer-events:none; transition:all .25s}
    .modal.show{opacity:1; pointer-events:auto}
    .card{background:white;padding:28px 36px;border-radius:12px; box-shadow:0 12px 30px rgba(0,0,0,0.18); text-align:center}
    .card h2{margin:0 0 8px; color:#d83b6a}

    @media (max-width:640px){ .content{flex-direction:column; align-items:flex-start} .actions{margin-left:0;width:100%; justify-content:flex-end} }
  </style>
</head>
<body>

  <div class="window" id="popup">
    <div class="titlebar">
      <div class="icon">ðŸ’—</div>
      <div class="title">Valentine.exe</div>
      <div class="controls">
        <div class="ctrl">â€“</div>
        <div class="ctrl">â–¢</div>
        <div class="ctrl">âœ•</div>
      </div>
    </div>

    <div class="content">
      <div class="heart">ðŸ’–</div>
      <div class="text">
        <h1>Valentine's Day Request</h1>
        <p><span class="highlight">Paulina</span>, will you be my Valentine?</p>
      </div>

      <div class="actions">
        <div class="btn-wrap">
          <button class="btn no" id="noBtn">No</button>
        </div>
        <button class="btn yes" id="yesBtn">Yes</button>
      </div>
    </div>
  </div>

  <div class="modal" id="modal">
    <div class="card">
      <h2>Yay! ðŸ’•</h2>
      <p>I'm so happy! Happy Valentine's Day.</p>
      <div style="margin-top:12px"><button class="btn" id="close">Close</button></div>
    </div>
  </div>

  <script>
    (function(){
      const popup = document.getElementById('popup');
      const noBtn = document.getElementById('noBtn');
      const yesBtn = document.getElementById('yesBtn');
      const modal = document.getElementById('modal');
      const close = document.getElementById('close');

      // Place the No button in a constrained area at start
      const wrap = noBtn.parentElement;
      function randomPositionWithinWrap(){
        const W = wrap.clientWidth - noBtn.offsetWidth;
        const H = wrap.clientHeight - noBtn.offsetHeight;
        const x = Math.max(0, Math.floor(Math.random()* (W+1)));
        const y = Math.max(0, Math.floor(Math.random()* (H+1)));
        return {x,y};
      }

      // Initial reset
      noBtn.style.position = 'absolute';
      noBtn.style.left = '0px';
      noBtn.style.top = '0px';

      // When the mouse enters the No button area, jump it away
      let moving = false;
      function moveAway(){
        if(moving) return; moving = true;
        const {x,y} = randomPositionWithinWrap();
        noBtn.style.transition = 'transform 0.18s ease';
        noBtn.style.transform = `translate(${x}px, ${y}px)`;
        setTimeout(()=>{ moving=false; },220);
      }

      // Also move when the pointer gets close to the button
      wrap.addEventListener('mouseenter', ()=>{
        // first time, move a bit
        moveAway();
      });

      noBtn.addEventListener('mouseover', (e)=>{
        moveAway();
      });

      // For extra trickiness: if user moves cursor in popup near the button, move it
      popup.addEventListener('mousemove', (e)=>{
        const b = noBtn.getBoundingClientRect();
        const dx = e.clientX - (b.left + b.width/2);
        const dy = e.clientY - (b.top + b.height/2);
        const dist = Math.hypot(dx,dy);
        if(dist < 120) moveAway();
      });

      // If user clicks it fast, still move and prevent click
      noBtn.addEventListener('click', (e)=>{
        e.preventDefault(); moveAway();
      });

      // Yes button redirects to success page
      yesBtn.addEventListener('click', ()=>{
        window.location.href = 'success.html';
      });
      close.addEventListener('click', ()=> modal.classList.remove('show'));

      // Keep the btn inside when window resizes
      window.addEventListener('resize', ()=>{
        noBtn.style.transition = 'none'; noBtn.style.transform = 'translate(0,0)';
      });
    })();
  </script>
</body>
</html>
